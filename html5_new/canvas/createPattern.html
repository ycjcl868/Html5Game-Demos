<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>填充</title>
</head>
<body>
<canvas id="can" width="600" height="300"></canvas>


<script>
    var can = document.getElementById('can');
    var ctx = can.getContext('2d');
    var imgSrc = ['../../images/box.png'];
    // 创建Image对象和pattern对象
    for(var i = 0;i < imgSrc.length; i++){
        var img = new Image();
        img.src = imgSrc[i];
        img.onload = (function (im, i) {
            var self = im;
            return function () {
                var p = ctx.createPattern(self,'repeat');
                if(i==0){
                    ctx.beginPath();
                    ctx.fillStyle = p;
                    ctx.fillRect(38,38,520,232);
                }else{
                    ctx.beginPath();
                    ctx.strokeStyle = p;
                    ctx.lineWidth = 18;
                    ctx.strokeRect(28,28,540,250);
                }
            }
        }(img,i))
    }

</script>
</body>
</html>